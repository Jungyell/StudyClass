#!/bin/sh
// 셸 스크립트를 실행할 때 사용할 인터프리터 지정

basedir=$(dirname "$(echo "$0" | sed -e 's,\\,/,g')")
// 실행 중인 스크립트 파일의 디렉토리 경로를 변수에 저장
// sed 명령어를 사용하여 백슬래시를 슬래시로 대체하여 윈도우에서도 동작하도록 함

case `uname` in
    *CYGWIN*|*MINGW*|*MSYS*) basedir=`cygpath -w "$basedir"`;;
esac
// 운영체제에 따라 디렉토리 경로를 조정하기 위한 조건문
// 윈도우에서 실행 중이면 cygpath를 사용하여 디렉토리 경로를 윈도우 형식으로 변환

if [ -x "$basedir/node" ]; then
  // "$basedir/node" 파일이 실행 가능한지 확인

  exec "$basedir/node"  "$basedir/../mime/cli.js" "$@"
  // 실행 가능하면 해당 노드 바이너리를 사용하여 mime/cli.js 스크립트 실행
else 
  exec node  "$basedir/../mime/cli.js" "$@"
  // 실행 가능한 노드 바이너리가 없는 경우 시스템에 설치된 노드를 사용하여 mime/cli.js 스크립트 실행
fi
