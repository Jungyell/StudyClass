"use strict";

// Promise를 매개변수로 받아와서 사용하는 모듈 내보내기 함수 정의
module.exports = function(Promise) {
    // SomePromiseArray 클래스 가져오기
    var SomePromiseArray = Promise._SomePromiseArray;

    // any 함수 정의
    function any(promises) {
        // SomePromiseArray 인스턴스 생성
        var ret = new SomePromiseArray(promises);
        // 프로미스 반환
        var promise = ret.promise();
        // 최소 완료 조건 설정
        ret.setHowMany(1);
        // 에러 발생 시 reject하지 않고 진행
        ret.setUnwrap();
        // 초기화
        ret.init();
        // 프로미스 반환
        return promise;
    }

    // Promise 객체의 any 메서드 정의
    Promise.any = function (promises) {
        return any(promises);
    };

    // Promise 프로토타입의 any 메서드 정의
    Promise.prototype.any = function () {
        return any(this);
    };
};
